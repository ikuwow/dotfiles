# シェルスクリプト作成における考慮

1. 条件分岐の記法について
    - `[[ condition ]] && command` の形式は避け、明示的な `if` 文を使用すること
    - 理由：この記法は「条件が真の時だけ実行、偽なら何もしない（どちらも正常）」という意図だが、`&&` の左辺が偽の場合を「失敗」として扱うため、`set -e` や他のスクリプトから呼び出された際に予期しない終了を引き起こす可能性がある
    - 悪い例：`[[ -d "$dir" ]] && ln -s source dest`（ディレクトリがなくても正常なはずが、異常扱いされる可能性）
    - 良い例：`if [[ -d "$dir" ]]; then ln -s source dest; fi`（ディレクトリの有無に関わらず正常終了）
    - ただし、`continue` や `break` との組み合わせ（`[[ condition ]] && continue`）は例外として許可
2. エラーハンドリング
    - 重要なスクリプトでは `set -eu` を使用してエラー時に即座に終了するようにすること
    - `set -e` 使用時は条件文の挙動に注意すること
3. shellcheckの活用
    - 全てのシェルスクリプトは shellcheck の警告をクリアする状態にすること
    - プロジェクトの `.shellcheckrc` に従うこと
